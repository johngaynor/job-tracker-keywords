(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{82:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eR});var s=a(5155),r=a(2115),i=a(8720),l=a(2467),n=a(3101),o=a(2821),d=a(5889);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,d.QP)((0,o.$)(t))}let u=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function x(e){let{className:t,variant:a,size:r,asChild:i=!1,...n}=e,o=i?l.DX:"button";return(0,s.jsx)(o,{"data-slot":"button",className:c(u({variant:a,size:r,className:t})),...n})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:c("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function p(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:c("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:c("leading-none font-semibold",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:c("text-muted-foreground text-sm",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:c("px-6",t),...a})}function j(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:c("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var y=a(489);function f(e){let{className:t,...a}=e;return(0,s.jsx)(y.b,{"data-slot":"label",className:c("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}var b=a(5824),w=a(4033),N=a(5917),k=a(2108);function A(e){let{...t}=e;return(0,s.jsx)(b.bL,{"data-slot":"select",...t})}function z(e){let{...t}=e;return(0,s.jsx)(b.WT,{"data-slot":"select-value",...t})}function S(e){let{className:t,size:a="default",children:r,...i}=e;return(0,s.jsxs)(b.l9,{"data-slot":"select-trigger","data-size":a,className:c("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[r,(0,s.jsx)(b.In,{asChild:!0,children:(0,s.jsx)(w.A,{className:"size-4 opacity-50"})})]})}function C(e){let{className:t,children:a,position:r="popper",...i}=e;return(0,s.jsx)(b.ZL,{children:(0,s.jsxs)(b.UC,{"data-slot":"select-content",className:c("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...i,children:[(0,s.jsx)(E,{}),(0,s.jsx)(b.LM,{className:c("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(D,{})]})})}function I(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(b.q7,{"data-slot":"select-item",className:c("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(b.VF,{children:(0,s.jsx)(N.A,{className:"size-4"})})}),(0,s.jsx)(b.p4,{children:a})]})}function E(e){let{className:t,...a}=e;return(0,s.jsx)(b.PP,{"data-slot":"select-scroll-up-button",className:c("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(k.A,{className:"size-4"})})}function D(e){let{className:t,...a}=e;return(0,s.jsx)(b.wn,{"data-slot":"select-scroll-down-button",className:c("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(w.A,{className:"size-4"})})}function _(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:c("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}let F=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function J(e){let{className:t,variant:a,asChild:r=!1,...i}=e,n=r?l.DX:"span";return(0,s.jsx)(n,{"data-slot":"badge",className:c(F({variant:a}),t),...i})}var L=a(3278);class T extends L.Ay{constructor(){super("EmployerKeywordsDB"),this.version(1).stores({employers:"++id, name, notes, createdAt, updatedAt",jobs:"++id, employerId, title, notes, link, referenceNumber, appliedDate, status, [employerId+title], createdAt, updatedAt",keywords:"++id, jobId, keyword, [jobId+keyword], createdAt, updatedAt",activities:"++id, jobId, type, category, notes, previousStatus, newStatus, createdAt, updatedAt"})}}let B=new T,q={async create(e,t){let a=new Date;return await B.employers.add({name:e,notes:t,createdAt:a,updatedAt:a})},getAll:async()=>await B.employers.orderBy("name").toArray(),getById:async e=>await B.employers.get(e),update:async(e,t)=>await B.employers.update(e,{...t,updatedAt:new Date}),async delete(e){for(let t of(await B.jobs.where("employerId").equals(e).toArray()))t.id&&await R.deleteByJobId(t.id);await B.jobs.where("employerId").equals(e).delete(),await B.employers.delete(e)},findByName:async e=>await B.employers.where("name").equalsIgnoreCase(e).first(),async deleteAll(){for(let e of(await B.jobs.toArray()))e.id&&await R.deleteByJobId(e.id);await B.jobs.clear(),await B.employers.clear()}},O={async create(e,t,a,s,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Date,l=new Date;return await B.jobs.add({employerId:e,title:t,notes:a,link:s,referenceNumber:r,appliedDate:i,status:"not applied",createdAt:l,updatedAt:l})},getAll:async()=>await B.jobs.orderBy("appliedDate").reverse().toArray(),getByEmployerId:async e=>await B.jobs.where("employerId").equals(e).toArray(),getById:async e=>await B.jobs.get(e),update:async(e,t)=>await B.jobs.update(e,{...t,updatedAt:new Date}),async delete(e){await R.deleteByJobId(e),await P.deleteByJobId(e),await B.jobs.delete(e)},async getJobsWithEmployers(){let e=await B.jobs.orderBy("appliedDate").reverse().toArray(),t=[];for(let a of e){let e=await B.employers.get(a.employerId);e&&t.push({...a,employer:e})}return t},findByTitleAndEmployer:async(e,t)=>await B.jobs.where("[employerId+title]").equals([t,e]).first(),async updateStatus(e,t){return await this.update(e,{status:t})},async deleteAll(){for(let e of(await B.jobs.toArray()))e.id&&await R.deleteByJobId(e.id);await B.jobs.clear()}},R={async create(e,t){let a=new Date,s=await B.keywords.where("[jobId+keyword]").equals([e,t.toLowerCase()]).first();return s?s.id:await B.keywords.add({jobId:e,keyword:t.toLowerCase(),createdAt:a,updatedAt:a})},getByJobId:async e=>await B.keywords.where("jobId").equals(e).toArray(),getAll:async()=>await B.keywords.toArray(),update:async(e,t)=>await B.keywords.update(e,{...t,updatedAt:new Date}),async delete(e){await B.keywords.delete(e)},deleteByJobId:async e=>await B.keywords.where("jobId").equals(e).delete(),async getKeywordStats(){let e=await B.keywords.toArray(),t=new Map;for(let a of e){let e=t.get(a.keyword)||{totalCount:0,jobIds:new Set};e.totalCount+=1,e.jobIds.add(a.jobId),t.set(a.keyword,e)}return Array.from(t.entries()).map(e=>{let[t,a]=e;return{keyword:t,totalCount:a.totalCount,jobCount:a.jobIds.size}}).sort((e,t)=>t.totalCount-e.totalCount)},findByJobAndKeyword:async(e,t)=>await B.keywords.where("[jobId+keyword]").equals([e,t.toLowerCase()]).first(),async deleteAll(){await B.keywords.clear()}},P={async create(e,t,a,s,r,i){let l=new Date;return await B.activities.add({jobId:e,type:t,category:a,notes:s,previousStatus:r,newStatus:i,createdAt:l,updatedAt:l})},getByJobId:async e=>await B.activities.where("jobId").equals(e).toArray().then(e=>e.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())),getAll:async()=>await B.activities.orderBy("createdAt").reverse().toArray(),update:async(e,t)=>await B.activities.update(e,{...t,updatedAt:new Date}),async delete(e){await B.activities.delete(e)},deleteByJobId:async e=>await B.activities.where("jobId").equals(e).delete(),async deleteAll(){await B.activities.clear()}};var K=a(8314),U=a(6191),M=a(5229);let V=["react","javascript","typescript","node.js","python","java","c#","php","html","css","sql","mongodb","postgresql","mysql","aws","azure","docker","kubernetes","git","rest api","graphql","microservices","ci/cd","testing","jest","cypress","selenium","linux","windows","macos","angular","vue.js","express.js","spring","django","flask","laravel","ruby on rails","golang","rust","swift","kotlin","flutter","react native","terraform","jenkins"],W=["communication","teamwork","leadership","problem solving","analytical thinking","project management","remote work","collaboration","mentoring","training","agile","scrum","adaptability","creativity","time management","critical thinking","decision making","conflict resolution","presentation skills","customer service","strategic planning","multitasking","attention to detail","organizational skills"];function Y(e){let{employers:t,onJobAdded:a}=e,[l,n]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[k,E]=(0,r.useState)(""),[D,F]=(0,r.useState)(""),[L,T]=(0,r.useState)([]),[B,P]=(0,r.useState)(""),[Y,Z]=(0,r.useState)(!1),X=()=>{B.trim()&&!L.includes(B.trim().toLowerCase())&&(T([...L,B.trim().toLowerCase()]),P(""))},H=e=>{L.includes(e.toLowerCase())||T([...L,e.toLowerCase()])},Q=V.filter(e=>e.toLowerCase().includes(B.toLowerCase())&&!L.includes(e.toLowerCase())).slice(0,8),$=W.filter(e=>e.toLowerCase().includes(B.toLowerCase())&&!L.includes(e.toLowerCase())).slice(0,8),G=async e=>{if(e.preventDefault(),y.trim()&&(l||o.trim())){Z(!0);try{var s;let e;if("new"===l&&o.trim())e=await q.create(o.trim(),c.trim()||void 0);else{if(!l||"new"===l)return;e=parseInt(l)}let r=await O.create(e,y.trim(),w.trim()||void 0,k.trim()||void 0,D.trim()||void 0);for(let e of L)await R.create(r,e);i.o.success("Job application added successfully!",{description:'Added "'.concat(y,'" at ').concat("new"===l?o:null==(s=t.find(e=>e.id===parseInt(l)))?void 0:s.name)}),n(""),d(""),u(""),b(""),N(""),E(""),F(""),T([]),P(""),a()}catch(e){console.error("Error adding job:",e),i.o.error("Failed to add job application",{description:"Please try again or check your input."})}finally{Z(!1)}}};return(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(h,{children:"Add New Job Application"}),(0,s.jsx)(g,{children:"Track keywords for a new job application"})]}),(0,s.jsxs)(x,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(""),d(""),u(""),b(""),N(""),E(""),F(""),T([]),P(""),i.o.success("Form reset successfully!")},className:"flex items-center gap-2",children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),"Reset Form"]})]})}),(0,s.jsx)(v,{children:(0,s.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"employer",children:"Employer"}),(0,s.jsxs)(A,{value:l,onValueChange:n,children:[(0,s.jsx)(S,{children:(0,s.jsx)(z,{placeholder:"Select an employer or add new"})}),(0,s.jsxs)(C,{children:[(0,s.jsx)(I,{value:"new",children:"Add New Employer"}),t.map(e=>(0,s.jsx)(I,{value:e.id.toString(),children:e.name},e.id))]})]})]}),"new"===l&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"newEmployer",children:"New Employer Name"}),(0,s.jsx)(j,{id:"newEmployer",value:o,onChange:e=>d(e.target.value),placeholder:"Enter employer name",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"employerNotes",children:"Employer Notes (optional)"}),(0,s.jsx)(_,{id:"employerNotes",value:c,onChange:e=>u(e.target.value),placeholder:"Notes about this employer (culture, requirements, etc.)",rows:3})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"jobTitle",children:"Job Title"}),(0,s.jsx)(j,{id:"jobTitle",value:y,onChange:e=>b(e.target.value),placeholder:"Enter job title",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"jobLink",children:"Job Link (optional)"}),(0,s.jsx)(j,{id:"jobLink",type:"url",value:k,onChange:e=>E(e.target.value),placeholder:"https://company.com/job-posting"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"jobReferenceNumber",children:"Reference Number (optional)"}),(0,s.jsx)(j,{id:"jobReferenceNumber",value:D,onChange:e=>F(e.target.value),placeholder:"Job reference/code"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"jobNotes",children:"Job Notes (optional)"}),(0,s.jsx)(_,{id:"jobNotes",value:w,onChange:e=>N(e.target.value),placeholder:"Notes about this specific job...",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f,{children:"Keywords"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(f,{htmlFor:"keyword",className:"text-sm",children:"Keyword"}),(0,s.jsx)(j,{id:"keyword",value:B,onChange:e=>P(e.target.value),placeholder:"Enter keyword or search suggestions",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),X())})]}),(0,s.jsx)(x,{type:"button",onClick:X,size:"icon",children:(0,s.jsx)(U.A,{className:"h-4 w-4"})})]}),B.length>0&&(Q.length>0||$.length>0)&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Suggestions:"}),Q.length>0&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(f,{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Technical Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:Q.map(e=>(0,s.jsx)(J,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 border-blue-200 dark:border-blue-800 transition-colors",onClick:()=>H(e),children:e},e))})]}),$.length>0&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(f,{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Soft Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:$.map(e=>(0,s.jsx)(J,{variant:"outline",className:"cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 border-green-200 dark:border-green-800 transition-colors",onClick:()=>H(e),children:e},e))})]})]}),0===B.length&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f,{className:"text-sm font-medium text-zinc-600 dark:text-zinc-400",children:"Select from categories:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Technical Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:V.filter(e=>!L.includes(e.toLowerCase())).slice(0,15).map(e=>(0,s.jsx)(J,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 border-blue-200 dark:border-blue-800 transition-colors",onClick:()=>H(e),children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Soft Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:W.filter(e=>!L.includes(e.toLowerCase())).slice(0,15).map(e=>(0,s.jsx)(J,{variant:"outline",className:"cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 border-green-200 dark:border-green-800 transition-colors",onClick:()=>H(e),children:e},e))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(f,{className:"text-sm font-medium",children:["Added Keywords (",L.length,"):"]}),L.length>0?(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:L.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-zinc-50 dark:bg-zinc-800 rounded",children:[(0,s.jsx)("span",{className:"font-medium capitalize flex-1",children:e}),(0,s.jsx)(x,{type:"button",variant:"ghost",size:"icon",onClick:()=>{T(L.filter((e,a)=>a!==t))},className:"h-6 w-6",children:(0,s.jsx)(M.A,{className:"h-3 w-3"})})]},t))}):(0,s.jsx)("div",{className:"text-zinc-500 text-sm italic p-4 border-2 border-dashed border-zinc-200 dark:border-zinc-700 rounded-lg text-center",children:"No keywords added yet. Click suggestions or type your own."})]})]})]}),(0,s.jsx)(x,{type:"submit",disabled:Y||!y.trim()||!l&&!o.trim(),className:"w-full",variant:"outline",children:Y?"Adding...":"Add Job Application"})]})})]})}var Z=a(9511);function X(e){let{...t}=e;return(0,s.jsx)(Z.bL,{"data-slot":"dialog",...t})}function H(e){let{...t}=e;return(0,s.jsx)(Z.l9,{"data-slot":"dialog-trigger",...t})}function Q(e){let{...t}=e;return(0,s.jsx)(Z.ZL,{"data-slot":"dialog-portal",...t})}function $(e){let{className:t,...a}=e;return(0,s.jsx)(Z.hJ,{"data-slot":"dialog-overlay",className:c("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function G(e){let{className:t,children:a,showCloseButton:r=!0,...i}=e;return(0,s.jsxs)(Q,{"data-slot":"dialog-portal",children:[(0,s.jsx)($,{}),(0,s.jsxs)(Z.UC,{"data-slot":"dialog-content",className:c("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[a,r&&(0,s.jsxs)(Z.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(M.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ee(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:c("flex flex-col gap-2 text-center sm:text-left",t),...a})}function et(e){let{className:t,...a}=e;return(0,s.jsx)(Z.hE,{"data-slot":"dialog-title",className:c("text-lg leading-none font-semibold",t),...a})}function ea(e){let{className:t,...a}=e;return(0,s.jsx)(Z.VY,{"data-slot":"dialog-description",className:c("text-muted-foreground text-sm",t),...a})}var es=a(574);function er(e){let{className:t,...a}=e;return(0,s.jsx)(es.bL,{"data-slot":"tabs",className:c("flex flex-col gap-2",t),...a})}function ei(e){let{className:t,...a}=e;return(0,s.jsx)(es.B8,{"data-slot":"tabs-list",className:c("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function el(e){let{className:t,...a}=e;return(0,s.jsx)(es.l9,{"data-slot":"tabs-trigger",className:c("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function en(e){let{className:t,...a}=e;return(0,s.jsx)(es.UC,{"data-slot":"tabs-content",className:c("flex-1 outline-none",t),...a})}var eo=a(1010),ed=a(6485),ec=a(7586);let eu=[{value:"not applied",label:"Not Applied"},{value:"applied",label:"Applied"},{value:"interview",label:"Interview"},{value:"offer",label:"Offer"},{value:"rejected",label:"Rejected"},{value:"withdrawn",label:"Withdrawn"}],ex=[{value:"application_submitted",label:"Application Submitted"},{value:"linkedin_outreach",label:"LinkedIn Outreach"},{value:"email_sent",label:"Email Sent"},{value:"phone_call_scheduled",label:"Phone Call Scheduled"},{value:"phone_call_completed",label:"Phone Call Completed"},{value:"interview_scheduled",label:"Interview Scheduled"},{value:"interview_completed",label:"Interview Completed"},{value:"follow_up_sent",label:"Follow Up Sent"},{value:"reference_check",label:"Reference Check"},{value:"offer_received",label:"Offer Received"},{value:"offer_negotiation",label:"Offer Negotiation"},{value:"rejection_received",label:"Rejection Received"},{value:"other",label:"Other"}];function em(e){var t;let{job:a,onJobUpdated:l}=e,[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[j,y]=(0,r.useState)(""),b=(null==(t=eu.find(e=>e.value===a.status))?void 0:t.label)||a.status,w=async()=>{if(!u||u===a.status)return void i.o.error("Please select a different status");c(!0);try{var e;await O.update(a.id,{status:u}),await P.create(a.id,"status_change",u,p.trim()||void 0,a.status,u),i.o.success("Status updated successfully!",{description:"Changed from ".concat(b," to ").concat(null==(e=eu.find(e=>e.value===u))?void 0:e.label)}),m(""),h(""),o(!1),l()}catch(e){console.error("Error updating job status:",e),i.o.error("Failed to update status",{description:"Please try again."})}finally{c(!1)}},N=async()=>{if(!g)return void i.o.error("Please select an activity type");c(!0);try{var e;await P.create(a.id,"activity",g,j.trim()||void 0),i.o.success("Activity logged successfully!",{description:null==(e=ex.find(e=>e.value===g))?void 0:e.label}),v(""),y(""),o(!1),l()}catch(e){console.error("Error logging activity:",e),i.o.error("Failed to log activity",{description:"Please try again."})}finally{c(!1)}};return(0,s.jsxs)(X,{open:n,onOpenChange:o,children:[(0,s.jsx)(H,{asChild:!0,children:(0,s.jsx)(x,{variant:"outline",size:"icon",children:(0,s.jsx)(eo.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(G,{className:"sm:max-w-[500px]",children:[(0,s.jsxs)(ee,{children:[(0,s.jsxs)(et,{className:"flex items-center gap-2",children:[(0,s.jsx)(eo.A,{className:"h-5 w-5"}),"Update Job Application"]}),(0,s.jsxs)(ea,{children:['Update the status or log activity for "',a.title,'"']})]}),(0,s.jsxs)(er,{defaultValue:"status",className:"w-full",children:[(0,s.jsxs)(ei,{className:"grid w-full grid-cols-2",children:[(0,s.jsxs)(el,{value:"status",className:"flex items-center gap-2",children:[(0,s.jsx)(ed.A,{className:"h-4 w-4"}),"Status Change"]}),(0,s.jsxs)(el,{value:"activity",className:"flex items-center gap-2",children:[(0,s.jsx)(ec.A,{className:"h-4 w-4"}),"Log Activity"]})]}),(0,s.jsxs)(en,{value:"status",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"new-status",children:"New Status"}),(0,s.jsxs)(A,{value:u,onValueChange:m,children:[(0,s.jsx)(S,{children:(0,s.jsx)(z,{placeholder:"Select new status"})}),(0,s.jsx)(C,{children:eu.map(e=>(0,s.jsxs)(I,{value:e.value,disabled:e.value===a.status,children:[e.label,e.value===a.status&&" (Current)"]},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"status-notes",children:"Notes (optional)"}),(0,s.jsx)(_,{id:"status-notes",value:p,onChange:e=>h(e.target.value),placeholder:"Add notes about this status change...",rows:3})]}),(0,s.jsx)(x,{onClick:w,disabled:d||!u||u===a.status,className:"w-full",children:d?"Updating...":"Update Status"})]}),(0,s.jsxs)(en,{value:"activity",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"activity-type",children:"Activity Type"}),(0,s.jsxs)(A,{value:g,onValueChange:v,children:[(0,s.jsx)(S,{children:(0,s.jsx)(z,{placeholder:"Select activity type"})}),(0,s.jsx)(C,{children:ex.map(e=>(0,s.jsx)(I,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"activity-notes",children:"Notes (optional)"}),(0,s.jsx)(_,{id:"activity-notes",value:j,onChange:e=>y(e.target.value),placeholder:"Add details about this activity...",rows:3})]}),(0,s.jsx)(x,{onClick:N,disabled:d||!g,className:"w-full",children:d?"Logging...":"Log Activity"})]})]})]})]})}var ep=a(1871),eh=a(1360);function eg(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),n=async()=>{try{let e=await O.getJobsWithEmployers(),a=[];for(let t of e){let e=await R.getByJobId(t.id);a.push({...t,keywords:e})}t(a)}catch(e){console.error("Error loading jobs:",e)}finally{l(!1)}};(0,r.useEffect)(()=>{n()},[]);let o=async e=>{if(confirm("Are you sure you want to delete this job application?"))try{await O.delete(e),i.o.success("Job application deleted successfully"),await n()}catch(e){console.error("Error deleting job:",e),i.o.error("Failed to delete job application",{description:"Please try again."})}};return a?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading jobs..."}):0===e.length?(0,s.jsx)(m,{children:(0,s.jsx)(v,{className:"py-8",children:(0,s.jsx)("div",{className:"text-center text-zinc-500",children:"No job applications yet. Add your first job application above!"})})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Job Applications"}),e.map(e=>(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[(0,s.jsx)(ep.A,{className:"h-5 w-5 text-zinc-500"}),e.employer.name]}),e.employer.notes&&(0,s.jsx)("p",{className:"text-sm text-zinc-600 italic",children:e.employer.notes}),(0,s.jsx)(g,{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:e.title}),e.notes&&(0,s.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 italic",children:e.notes}),e.link&&(0,s.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:"\uD83D\uDD17 View Job Posting"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-zinc-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(ed.A,{className:"h-4 w-4"}),"Applied: ",new Date(e.appliedDate).toLocaleDateString()]}),(0,s.jsx)(J,{className:(e=>{switch(e){case"not applied":case"withdrawn":default:return"bg-zinc-100 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200";case"applied":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"interview":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"offer":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}})(e.status),children:e.status})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(em,{job:e,onJobUpdated:n}),(0,s.jsx)(x,{variant:"outline",size:"icon",onClick:()=>o(e.id),children:(0,s.jsx)(eh.A,{className:"h-4 w-4"})})]})]})}),(0,s.jsx)(v,{children:e.keywords.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-zinc-700 dark:text-zinc-300",children:"Keywords:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.keywords.sort((e,t)=>e.keyword.localeCompare(t.keyword)).map(e=>(0,s.jsx)(J,{variant:"secondary",className:"capitalize",children:e.keyword},e.id))}),(0,s.jsxs)("div",{className:"text-sm text-zinc-500 mt-2",children:["Total keywords: ",e.keywords.length]})]}):(0,s.jsx)("div",{className:"text-zinc-500 text-sm",children:"No keywords added yet"})})]},e.id))]})}var ev=a(534),ej=a(1524);function ey(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),l=async()=>{try{let e=await R.getKeywordStats();t(e)}catch(e){console.error("Error loading keyword stats:",e)}finally{i(!1)}};if((0,r.useEffect)(()=>{l()},[]),a)return(0,s.jsx)("div",{className:"text-center py-8",children:"Loading statistics..."});if(0===e.length)return(0,s.jsxs)(m,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[(0,s.jsx)(ev.A,{className:"h-5 w-5"}),"Keyword Statistics"]}),(0,s.jsx)(g,{children:"Track which keywords appear most frequently across your applications"})]}),(0,s.jsx)(v,{children:(0,s.jsx)("div",{className:"text-center text-zinc-500 py-4",children:"No keywords tracked yet. Add some job applications to see statistics!"})})]});let n=Math.max(...e.map(e=>e.totalCount));return(0,s.jsxs)(m,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[(0,s.jsx)(ev.A,{className:"h-5 w-5"}),"Keyword Statistics"]}),(0,s.jsx)(g,{children:"Most frequently mentioned keywords across all applications"})]}),(0,s.jsx)(v,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length}),(0,s.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Unique Keywords"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.reduce((e,t)=>e+t.totalCount,0)}),(0,s.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Total Mentions"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:Math.max(...e.map(e=>e.jobCount))}),(0,s.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Max Jobs per Keyword"})]})]}),(0,s.jsx)("div",{className:"space-y-3",children:e.slice(0,20).map((e,t)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-zinc-500 w-6",children:["#",t+1]}),(0,s.jsx)("span",{className:"font-medium capitalize",children:e.keyword}),t<3&&(0,s.jsx)(ej.A,{className:"h-4 w-4 text-green-500"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(J,{variant:"secondary",children:[e.totalCount," mentions"]}),(0,s.jsxs)(J,{variant:"outline",children:[e.jobCount," jobs"]})]})]}),(0,s.jsx)("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all",style:{width:"".concat(e.totalCount/n*100,"%")}})})]},e.keyword))}),e.length>20&&(0,s.jsxs)("div",{className:"text-center text-sm text-zinc-500 pt-4 border-t",children:["Showing top 20 keywords. Total: ",e.length," keywords tracked."]})]})})]})}var ef=a(7268);function eb(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...i}=e;return(0,s.jsx)(ef.b,{"data-slot":"separator",decorative:r,orientation:a,className:c("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}var ew=a(8162);function eN(e){let{className:t,...a}=e;return(0,s.jsx)(ew.bL,{"data-slot":"checkbox",className:c("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(ew.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(N.A,{className:"size-3.5"})})})}class ek{static async exportData(){try{let[e,t,a,s]=await Promise.all([q.getAll(),O.getAll(),R.getAll(),P.getAll()]);return{version:this.CURRENT_VERSION,exportDate:new Date().toISOString(),employers:e,jobs:t,keywords:a,activities:s}}catch(e){throw console.error("Error exporting data:",e),Error("Failed to export data")}}static async downloadExport(){try{let e=await this.exportData(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a;let r=new Date,i=r.toISOString().split("T")[0],l=r.toTimeString().split(" ")[0].replace(/:/g,"-");s.download="employer-keywords-export-".concat(i,"-").concat(l,".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch(e){throw console.error("Error downloading export:",e),Error("Failed to download export file")}}static async importData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{clearExisting:a=!1,skipDuplicates:s=!0}=t;try{this.validateImportData(e);let t=0,r=0,i=0,l=0,n=0;a&&await this.clearAllData();let o=new Map;for(let a of e.employers)try{if(s){let e=await q.findByName(a.name);if(e){o.set(a.id,e.id),n++;continue}}let e=await q.create(a.name,a.notes);o.set(a.id,e),t++}catch(e){console.warn("Failed to import employer: ".concat(a.name),e),n++}let d=new Map;for(let t of e.jobs)try{let e=o.get(t.employerId);if(!e){console.warn("Skipping job ".concat(t.title," - employer not found")),n++;continue}if(s){let a=await O.findByTitleAndEmployer(t.title,e);if(a){d.set(t.id,a.id),n++;continue}}let a=await O.create(e,t.title,t.notes,t.link,t.referenceNumber,new Date(t.appliedDate));"not applied"!==t.status&&await O.updateStatus(a,t.status),d.set(t.id,a),r++}catch(e){console.warn("Failed to import job: ".concat(t.title),e),n++}for(let t of e.keywords)try{let e=d.get(t.jobId);if(!e){console.warn("Skipping keyword ".concat(t.keyword," - job not found")),n++;continue}if(s&&await R.findByJobAndKeyword(e,t.keyword)){n++;continue}await R.create(e,t.keyword),i++}catch(e){console.warn("Failed to import keyword: ".concat(t.keyword),e),n++}for(let t of e.activities||[])try{let e=d.get(t.jobId);if(!e){console.warn("Skipping activity for job ".concat(t.jobId," - job not found")),n++;continue}await P.create(e,t.type,t.category,t.notes,t.previousStatus,t.newStatus),l++}catch(e){console.warn("Failed to import activity: ".concat(t.category),e),n++}return{employersImported:t,jobsImported:r,keywordsImported:i,activitiesImported:l,skipped:n}}catch(e){throw console.error("Error importing data:",e),Error("Failed to import data")}}static async importFromFile(e,t){return new Promise((a,s)=>{let r=new FileReader;r.onload=async e=>{try{var r;let s=null==(r=e.target)?void 0:r.result,i=JSON.parse(s),l=await this.importData(i,t);a(l)}catch(e){console.log(e),s(Error("Invalid file format or corrupted data"))}},r.onerror=()=>{s(Error("Failed to read file"))},r.readAsText(e)})}static validateImportData(e){if(!e||"object"!=typeof e)throw Error("Invalid data format");if(!e.version||!e.exportDate)throw Error("Missing required metadata");if(!Array.isArray(e.employers)||!Array.isArray(e.jobs)||!Array.isArray(e.keywords)||!Array.isArray(e.activities||[]))throw Error("Invalid data structure");for(let t of e.employers)if(!t.name||"string"!=typeof t.name)throw Error("Invalid employer data");for(let t of e.jobs)if(!t.title||!t.employerId||!t.appliedDate)throw Error("Invalid job data");for(let t of e.keywords)if(!t.keyword||!t.jobId)throw Error("Invalid keyword data")}static async clearAllData(){await P.deleteAll(),await R.deleteAll(),await O.deleteAll(),await q.deleteAll()}static async getExportStats(){try{let[e,t,a,s]=await Promise.all([q.getAll(),O.getAll(),R.getAll(),P.getAll()]),r=[...e,...t,...a,...s].map(e=>new Date(e.updatedAt)).sort((e,t)=>t.getTime()-e.getTime())[0];return{totalEmployers:e.length,totalJobs:t.length,totalKeywords:a.length,totalActivities:s.length,lastModified:r}}catch(e){throw console.error("Error getting export stats:",e),Error("Failed to get statistics")}}}ek.CURRENT_VERSION="1.0";var eA=a(9867),ez=a(9633),eS=a(7107),eC=a(9715),eI=a(5710),eE=a(1786),eD=a(2056),e_=a(2529);function eF(e){let{onDataChanged:t}=e,[a,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[u,j]=(0,r.useState)(!0),[y,b]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[k,A]=(0,r.useState)(null),z=(0,r.useRef)(null),S=async()=>{try{let e=await ek.getExportStats();N(e)}catch(e){console.error("Error loading export stats:",e)}},C=async()=>{l(!0),A(null);try{await ek.downloadExport(),i.o.success("Data exported successfully!",{description:"Your backup file has been downloaded."})}catch(t){let e=t instanceof Error?t.message:"Failed to export data";A(e),i.o.error("Export failed",{description:e})}finally{l(!1)}},I=async e=>{o(!0),A(null),b(null);try{let a=await ek.importFromFile(e,{clearExisting:d,skipDuplicates:u});b(a),i.o.success("Data imported successfully!",{description:"Imported ".concat(a.employersImported," employers, ").concat(a.jobsImported," jobs, ").concat(a.keywordsImported," keywords, and ").concat(a.activitiesImported," activities.")}),t(),await S()}catch(t){let e=t instanceof Error?t.message:"Failed to import data";A(e),i.o.error("Import failed",{description:e})}finally{o(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(m,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[(0,s.jsx)(eA.A,{className:"h-5 w-5"}),"Export Data"]}),(0,s.jsx)(g,{children:"Download all your employer, job, and keyword data as a JSON file for backup or transfer"})]}),(0,s.jsxs)(v,{className:"space-y-4",children:[w&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-zinc-50 dark:bg-zinc-900 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsx)(ep.A,{className:"h-4 w-4"}),"Employers"]}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:w.totalEmployers})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsx)(ez.A,{className:"h-4 w-4"}),"Jobs"]}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:w.totalJobs})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsx)(eS.A,{className:"h-4 w-4"}),"Keywords"]}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:w.totalKeywords})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsx)(eC.A,{className:"h-4 w-4"}),"Activities"]}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:w.totalActivities})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(x,{onClick:C,disabled:a,className:"flex items-center gap-2",children:[(0,s.jsx)(eA.A,{className:"h-4 w-4"}),a?"Exporting...":"Export Data"]}),(0,s.jsxs)(x,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[(0,s.jsx)(eI.A,{className:"h-4 w-4"}),"Refresh Stats"]})]})]})]}),(0,s.jsx)(eb,{}),(0,s.jsxs)(m,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[(0,s.jsx)(eE.A,{className:"h-5 w-5"}),"Import Data"]}),(0,s.jsx)(g,{children:"Upload a previously exported JSON file to restore or merge data"})]}),(0,s.jsxs)(v,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-zinc-50 dark:bg-zinc-900 rounded-lg",children:[(0,s.jsx)(f,{className:"text-sm font-medium",children:"Import Options"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eN,{id:"clearExisting",checked:d,onCheckedChange:e=>c(e)}),(0,s.jsx)(f,{htmlFor:"clearExisting",className:"text-sm cursor-pointer",children:"Clear existing data before import"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eN,{id:"skipDuplicates",checked:u,onCheckedChange:e=>j(e)}),(0,s.jsx)(f,{htmlFor:"skipDuplicates",className:"text-sm cursor-pointer",children:"Skip duplicate entries (recommended)"})]}),d&&(0,s.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded",children:[(0,s.jsx)(eD.A,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-sm text-red-700 dark:text-red-300",children:[(0,s.jsx)("strong",{children:"Warning:"})," This will permanently delete all existing data before importing. Make sure you have a backup!"]})]})]}),(0,s.jsx)("input",{ref:z,type:"file",accept:".json",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&I(a)},className:"hidden"}),(0,s.jsxs)(x,{onClick:()=>{var e;null==(e=z.current)||e.click()},disabled:n,className:"flex items-center gap-2",children:[(0,s.jsx)(eC.A,{className:"h-4 w-4"}),n?"Importing...":"Choose File to Import"]}),y&&(0,s.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(e_.A,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),(0,s.jsx)("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Import Completed Successfully!"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Employers"}),(0,s.jsxs)("div",{className:"font-medium",children:[y.employersImported," imported"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Jobs"}),(0,s.jsxs)("div",{className:"font-medium",children:[y.jobsImported," imported"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Keywords"}),(0,s.jsxs)("div",{className:"font-medium",children:[y.keywordsImported," imported"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Activities"}),(0,s.jsxs)("div",{className:"font-medium",children:[y.activitiesImported," imported"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Skipped"}),(0,s.jsxs)("div",{className:"font-medium",children:[y.skipped," items"]})]})]})]}),k&&(0,s.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eD.A,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),(0,s.jsx)("span",{className:"font-medium text-red-800 dark:text-red-200",children:"Error"})]}),(0,s.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:k})]})]})]}),(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{children:(0,s.jsx)(h,{className:"text-lg",children:"How It Works"})}),(0,s.jsxs)(v,{className:"space-y-3 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Export:"})," Creates a JSON file containing all your employers, jobs, and keywords. This file can be used as a backup or to transfer data to another device."]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Import:"})," Uploads a previously exported JSON file and adds the data to your current database. You can choose to clear existing data first or merge with existing data."]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Skip Duplicates:"})," When enabled, the import process will skip entries that already exist (same employer name, same job title + employer, same keyword + job)."]})]})]})]})}var eJ=a(5870);function eL(e){let{onDataChanged:t}=e,[a,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),u=async()=>{l(!0);try{await ek.importData({version:"1.0",exportDate:new Date().toISOString(),employers:[],jobs:[],keywords:[],activities:[]},{clearExisting:!0}),c(!0),i.o.success("All data deleted successfully!",{description:"Your database has been completely wiped."}),t(),setTimeout(()=>{c(!1)},3e3)}catch(e){console.error("Error wiping data:",e),i.o.error("Failed to delete data",{description:"Please try again."})}finally{l(!1),o(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,s.jsx)(eJ.A,{className:"h-6 w-6"}),(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Settings"})]}),(0,s.jsx)(eF,{onDataChanged:t}),(0,s.jsx)(eb,{}),(0,s.jsxs)(m,{className:"border-red-200 dark:border-red-800",children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(h,{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[(0,s.jsx)(eh.A,{className:"h-5 w-5"}),"Danger Zone"]}),(0,s.jsx)(g,{children:"Permanently delete all data. This action cannot be undone."})]}),(0,s.jsxs)(v,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsx)(eD.A,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-sm text-red-700 dark:text-red-300",children:[(0,s.jsx)("strong",{children:"Warning:"})," This will permanently delete all employers, job applications, and keywords from your database. Make sure to export your data first if you want to keep a backup."]})]}),n?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"p-3 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"Are you absolutely sure?"}),(0,s.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This will delete all your data permanently. This action cannot be undone."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(x,{variant:"destructive",onClick:u,disabled:a,className:"flex items-center gap-2",children:[(0,s.jsx)(eh.A,{className:"h-4 w-4"}),a?"Deleting...":"Yes, Delete Everything"]}),(0,s.jsx)(x,{variant:"outline",onClick:()=>{o(!1)},disabled:a,children:"Cancel"})]})]}):(0,s.jsxs)(x,{variant:"destructive",onClick:()=>{o(!0)},disabled:a,className:"flex items-center gap-2",children:[(0,s.jsx)(eh.A,{className:"h-4 w-4"}),"Delete All Data"]}),d&&(0,s.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-5 w-5 bg-green-600 dark:bg-green-400 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-2 w-2 bg-white rounded-full"})}),(0,s.jsx)("span",{className:"font-medium text-green-800 dark:text-green-200",children:"All data has been successfully deleted."})]})})]})]}),(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{children:(0,s.jsx)(h,{className:"text-lg",children:"About Your Data"})}),(0,s.jsxs)(v,{className:"space-y-3 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Storage:"})," All your data is stored locally in your browser using IndexedDB. No data is sent to any external servers."]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Privacy:"})," Your employer and job application data remains completely private and is only accessible from this browser on this device."]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Backup:"})," Use the export function to create backups of your data. This is especially important before clearing browser data or switching devices."]})]})]})]})}var eT=a(9427),eB=a(7494),eq=a(5379);function eO(){let{theme:e,setTheme:t}=(0,eq.D)(),[a,i]=r.useState(!1);return(r.useEffect(()=>{i(!0)},[]),a)?(0,s.jsxs)(x,{variant:"outline",size:"icon",onClick:()=>t("light"===e?"dark":"light"),children:["light"===e?(0,s.jsx)(eB.A,{className:"h-[1.2rem] w-[1.2rem]"}):(0,s.jsx)(eT.A,{className:"h-[1.2rem] w-[1.2rem]"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}):(0,s.jsxs)(x,{variant:"outline",size:"icon",disabled:!0,children:[(0,s.jsx)(eT.A,{className:"h-[1.2rem] w-[1.2rem]"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function eR(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(0),l=async()=>{try{let e=await q.getAll();t(e)}catch(e){console.error("Error loading employers:",e)}};(0,r.useEffect)(()=>{l()},[a]);let n=()=>{i(e=>e+1)};return(0,s.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950",children:(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Employer Keywords Tracker"}),(0,s.jsx)("p",{className:"text-lg text-zinc-600 dark:text-zinc-400",children:"Track and analyze keywords from your job applications to optimize your search strategy."})]}),(0,s.jsx)(eO,{})]}),(0,s.jsxs)(er,{defaultValue:"add",className:"space-y-6",children:[(0,s.jsxs)(ei,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(el,{value:"add",className:"flex items-center gap-2",children:[(0,s.jsx)(U.A,{className:"h-4 w-4"}),"Add Application"]}),(0,s.jsxs)(el,{value:"jobs",className:"flex items-center gap-2",children:[(0,s.jsx)(ez.A,{className:"h-4 w-4"}),"Applications"]}),(0,s.jsxs)(el,{value:"stats",className:"flex items-center gap-2",children:[(0,s.jsx)(ev.A,{className:"h-4 w-4"}),"Statistics"]}),(0,s.jsxs)(el,{value:"data",className:"flex items-center gap-2",children:[(0,s.jsx)(eJ.A,{className:"h-4 w-4"}),"Settings"]})]}),(0,s.jsx)(en,{value:"add",className:"space-y-6",children:(0,s.jsx)(Y,{employers:e,onJobAdded:n})}),(0,s.jsx)(en,{value:"jobs",className:"space-y-6",children:(0,s.jsx)(eg,{},a)}),(0,s.jsx)(en,{value:"stats",className:"space-y-6",children:(0,s.jsx)(ey,{},a)}),(0,s.jsx)(en,{value:"data",className:"space-y-6",children:(0,s.jsx)(eL,{onDataChanged:n})})]})]})})}},1927:(e,t,a)=>{Promise.resolve().then(a.bind(a,82))}},e=>{e.O(0,[818,512,441,255,358],()=>e(e.s=1927)),_N_E=e.O()}]);